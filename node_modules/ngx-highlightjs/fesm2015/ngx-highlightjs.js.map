{"version":3,"file":"ngx-highlightjs.js","sources":["../../projects/ngx-highlightjs/src/lib/highlight.model.ts","../../projects/ngx-highlightjs/src/lib/highlight.loader.ts","../../projects/ngx-highlightjs/src/lib/highlight.service.ts","../../projects/ngx-highlightjs/src/lib/highlight.ts","../../projects/ngx-highlightjs/src/lib/highlight.module.ts","../../../projects/ngx-highlightjs/src/ngx-highlightjs.ts"],"names":[],"mappings":";;;;;;;;MAwGa,iBAAiB,GAAG,IAAI,cAAc,CAAmB,mBAAmB;AACzF;ACnGA;AACA,MAGa,eAAe;AAC5B,IAQE,YAA8B,GAAQ,EACL,UAAkB,EACQ,QAA0B;AACvF,QAD6D,aAAQ,GAAR,QAAQ,CAAkB;AAAC;AAE3D,QAXV,WAAM,GAAG,IAAI,eAAe,CAA0B,IAAI,CAAC,CAAC;AAC/E,QAAW,UAAK,GAAiC,IAAI,CAAC,MAAM,CAAC,YAAY,EAAE,CAAC,IAAI,CAC5E,MAAM,CAAC,CAAC,IAA6B,KAAK,CAAC,CAAC,IAAI,CAAC,EACjD,GAAG,CAAC,CAAC,IAA6B,KAAK,IAAwB,CAAC,EAChE,IAAI,CAAC,CAAC,CAAC,CACR,CAAC;AACJ;AAEG,QAGC,IAAI,iBAAiB,CAAC,UAAU,CAAC,IAAI,GAAG,CAAC,WAAW,CAAC,IAAI,EAAE;AAC/D,YAAM,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;AAC7C,SAAK;AAAC,aAAK;AACX;AACM,YAAA,IAAI,CAAC,YAAY,EAAE,CAAC,IAAI,CACtB,SAAS,CAAC,CAAC,IAAsB;AACzC,gBAAU,IAAI,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,CAAC,iBAAiB,EAAE;AAChE;AACQ,oBAAI,GAAG,CAAC,WAAW,CAAC,IAAI,GAAG,IAAI,CAAC;AACxC;AACQ,oBAAI,OAAO,IAAI,CAAC,eAAe,EAAE,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;AAClF,iBAAW;AAAC,qBAAK;AACjB,oBAAY,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;AACnC,oBAAY,OAAO,KAAK,CAAC;AACzB,iBAAW;AACX,aAAS,CAAC,EACF,UAAU,CAAC,CAAC,CAAM;AAC1B,gBAAU,OAAO,CAAC,KAAK,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC;AACtC,gBAAU,OAAO,KAAK,CAAC;AACvB,aAAS,CAAC,CACH,CAAC,SAAS,EAAE,CAAC;AACpB,SAAK;AACL,KAAG;AACH;AAEC;AACE;AACE,IAAK,YAAY;AAAK,QACvB,IAAI,IAAI,CAAC,QAAQ,EAAE;AACvB,YAAM,IAAI,IAAI,CAAC,QAAQ,CAAC,iBAAiB,IAAI,IAAI,CAAC,QAAQ,CAAC,iBAAiB,EAAE;AAC9E,gBAAQ,OAAO,UAAU,CAAC,2FAA2F,CAAC,CAAC;AACvH,aAAO;AACP,YAAM,IAAI,IAAI,CAAC,QAAQ,CAAC,iBAAiB,IAAI,IAAI,CAAC,QAAQ,CAAC,SAAS,EAAE;AACtE,gBAAQ,OAAO,UAAU,CAAC,+DAA+D,CAAC,CAAC;AAC3F,aAAO;AACP,YAAM,IAAI,IAAI,CAAC,QAAQ,CAAC,iBAAiB,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,SAAS,EAAE;AACvE,gBAAQ,OAAO,UAAU,CAAC,+CAA+C,CAAC,CAAC;AAC3E,aAAO;AACP,YAAM,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,iBAAiB,IAAI,IAAI,CAAC,QAAQ,CAAC,SAAS,EAAE;AACvE,gBAAQ,OAAO,UAAU,CAAC,oCAAoC,CAAC,CAAC;AAChE,aAAO;AACP,YAAM,IAAI,IAAI,CAAC,QAAQ,CAAC,iBAAiB,EAAE;AAC3C,gBAAQ,OAAO,IAAI,CAAC,eAAe,EAAE,CAAC;AACtC,aAAO;AACP,YAAM,IAAI,IAAI,CAAC,QAAQ,CAAC,iBAAiB,IAAI,IAAI,CAAC,QAAQ,CAAC,SAAS,IAAI,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC,MAAM,EAAE;AACrH,gBAAQ,OAAO,IAAI,CAAC,eAAe,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,IAAsB,KAAK,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;AAC7G,aAAO;AACP,SAAK;AACL,QAAI,OAAO,UAAU,CAAC,wCAAwC,CAAC,CAAC;AAChE,KAAG;AACH;AAEC;AACE;AACE,IAAK,cAAc,CAAC,IAAsB;AAAI,QAC/C,MAAM,SAAS,GAAG,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,SAAU,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,QAAQ,EAAE,UAAU,CAAC,KACpF,YAAY,CAAC,UAAU,EAAE,CAAC,CAAC,IAAI,CAC7B,GAAG,CAAC,CAAC,QAAa,KAAK,IAAI,CAAC,gBAAgB,CAAC,QAAQ,EAAE,QAAQ,CAAC,CAAC,CAClE,CACF,CAAC;AACN,QAAI,OAAO,GAAG,CAAC,GAAG,SAAS,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,IAAI,CAAC,CAAC,CAAC;AACnD,KAAG;AACH;AAGA;AACE;AACE,IAAM,eAAe;AAAK,QAC1B,OAAO,YAAY,CAAC,IAAI,CAAC,QAAQ,CAAC,iBAAkB,EAAE,CAAC,CAAC;AAC5D,KAAG;AACH;AAEC;AACE;AACE,IAAK,eAAe;AAAK,QAC1B,OAAO,YAAY,CAAC,IAAI,CAAC,QAAQ,CAAC,iBAAkB,EAAE,CAAC,CAAC;AAC5D,KAAG;AACH;AAGA;AACE;AACE,IAAM,eAAe;AAAK,QAC1B,OAAO,YAAY,CAAC,IAAI,CAAC,QAAQ,CAAC,iBAAkB,EAAE,CAAC,CAAC;AAC5D,KAAG;AACH;kMAAC;AACD,mPAnGK;AAAC;EAHL,UAAU,SAAC,kBACV,UAAU,EAAE,MAAM,cACnB,vEAEe,4CAQD,MAAM,SAAC,QAAQ;AAAS,yCACxB,MAAM,SAAC,WAAW;AAAS,4CAC3B,QAAQ,YAAI,MAAM,SAAC,iBAAiB;AAAQ;;;;;;;;;;;;;;;;;kCAAE;AAyF7D;AACA;AACA;AACA,MAAM,YAAY,GAAG,CAAC,YAA0B;AAAO,IACrD,OAAO,IAAI,CAAC,YAAY,CAAC,CAAC,IAAI,CAC5B,MAAM,CAAC,CAAC,MAAW,KAAK,CAAC,CAAC,MAAM,IAAI,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,EACrD,GAAG,CAAC,CAAC,MAAW,KAAK,MAAM,CAAC,OAAO,CAAC,CACrC,CAAC;AACJ,CAAC,CAAC;AACF;AAAyB;AAAC,MC9Gb,WAAW;AACxB,IAQE,YAAoB,OAAwB,EAAyC,OAAyB;AAChH,QADsB,YAAO,GAAP,OAAO,CAAiB;AAAC,QAPrC,UAAK,GAA4B,IAAI,CAAC;AAChD;AAEU,QAMN,OAAO,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC,SAAS,CAAC,CAAC,IAAsB;AAC1D,YAAM,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;AACxB,YAAM,IAAI,OAAO,IAAI,OAAO,CAAC,MAAM,EAAE;AACrC;AACQ,gBAAA,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;AACvC,gBAAQ,IAAI,IAAI,CAAC,aAAa,EAAE,CAAC,MAAM,GAAG,CAAC,EAAE;AAC7C,oBAAU,OAAO,CAAC,KAAK,CAAC,8CAA8C,CAAC,CAAC;AACxE,iBAAS;AACT,aAAO;AACP,SAAK,CAAC,CAAC;AACP,KAAG;AACH;AAE6B,IAnB3B,IAAI,IAAI;AAAK,QACX,OAAO,IAAI,CAAC,KAAK,CAAC;AACtB,KAAG;AACH;AACO;AAAmC;AAAwD;AAC3D;AAG3B;AAEoB;AAEJ;AAOL;AAAQ,IAQ7B,SAAS,CAAC,IAAY,EAAE,KAAa,EAAE,eAAwB,EAAE,YAAkB;AAAI,QACrF,OAAO,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAC5B,GAAG,CAAC,CAAC,IAAsB,KAAK,IAAI,CAAC,SAAS,CAAC,IAAI,EAAE,KAAK,EAAE,eAAe,EAAE,YAAY,CAAC,CAAC,CAC5F,CAAC;AACN,KAAG;AACH;AAEC;AACE;AACE;AACE;AAEJ;AAAQ,IAAT,aAAa,CAAC,KAAa,EAAE,cAAwB;AAAI,QACvD,OAAO,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAC5B,GAAG,CAAC,CAAC,IAAsB,KAAK,IAAI,CAAC,aAAa,CAAC,KAAK,EAAE,cAAc,CAAC,CAAC,CAC3E,CAAC;AACN,KAAG;AACH;AAEC;AACE;AACE;AACE;AAEJ;AAAQ,IAAT,SAAS,CAAC,KAAa;AAAI,QACzB,OAAO,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAC5B,GAAG,CAAC,CAAC,IAAsB,KAAK,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CACvD,CAAC;AACN,KAAG;AACH;AAEC;AACE;AACE;AACE;AAEJ;AAAQ,IAAT,cAAc,CAAC,KAAkB;AAAI,QACnC,OAAO,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAC5B,GAAG,CAAC,CAAC,IAAsB,KAAK,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC,CAC5D,CAAC;AACN,KAAG;AACH;AAEC;AACE;AACE;AACE,IAAL,SAAS,CAAC,MAAuB;AAAI,QACnC,OAAO,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAC5B,GAAG,CAAC,CAAC,IAAsB,KAAK,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,CACxD,CAAC;AACN,KAAG;AACH;AAEC;AACE;AACE,IAAH,gBAAgB;AAAK,QACnB,OAAO,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAC5B,GAAG,CAAC,CAAC,IAAsB,KAAK,IAAI,CAAC,gBAAgB,EAAE,CAAC,CACzD,CAAC;AACN,KAAG;AACH;AAEC;AACE;AACE;AACE;AAEJ;AAAQ,IAAT,gBAAgB,CAAC,IAAY,EAAE,QAAmB;AAAI,QACpD,OAAO,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAC5B,GAAG,CAAC,CAAC,IAAsB,KAAK,IAAI,CAAC,gBAAgB,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC,CACvE,CAAC;AACN,KAAG;AACH;AAEC;AACE;AACE,IAAH,aAAa;AAAK,QAChB,OAAO,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAC5B,GAAG,CAAC,CAAC,IAAsB,KAAK,IAAI,CAAC,aAAa,EAAE,CAAC,CACtD,CAAC;AACN,KAAG;AACH;AAEC;AACE;AACE;AAEJ;AAAQ,IAAP,WAAW,CAAC,IAAY;AAAI,QAC1B,OAAO,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAC5B,GAAG,CAAC,CAAC,IAAsB,KAAK,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC,CACxD,CAAC;AACN,KAAG;AACH;AAEC;AACE;AACE;AACE,IAAL,gBAAgB,CAAC,EAAe;AAAI,QAClC,OAAO,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAC5B,MAAM,CAAC,CAAC,IAAsB,KAAK,CAAC,CAAC,IAAI,CAAC,gBAAgB,CAAC,EAC3D,GAAG,CAAC,CAAC,IAAsB,KAAK,IAAI,CAAC,gBAAgB,CAAC,EAAE,CAAC,CAAC,CAC3D,CAAC;AACN,KAAG;AACH;+JAAC;AACD,mNAxIK;AAAC;EAHL,UAAU,SAAC,rBAKG,YAPN,eAAe;QAGtB,UAAU,EAAE,MAAM,cACnB,xCAJ2B,4CAcqB,QAAQ,YAAI,MAAM,SAAC,iBAAiB;AAAQ;;;;;;;;;;;kCAAE;AAAC;AAAC,MCKpF,SAAS;AAAG,IAqBvB,YAAY,EAAc,EACN,KAAkB,EAClB,UAAwB,EACe,QAA0B;AACvF,QAHsB,UAAK,GAAL,KAAK,CAAa;AAAC,QACnB,eAAU,GAAV,UAAU,CAAc;AAAC,QACc,aAAQ,GAAR,QAAQ,CAAkB;AAAC;AAI/E,QATG,gBAAW,GAAG,IAAI,YAAY,EAAmB,CAAC;AAC9D,QAKI,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC,aAAa,CAAC;AAC3C,KAAG;AACH,IACE,WAAW,CAAC,OAAsB;AACpC,QAAI,IACE,IAAI,CAAC,IAAI;AACf,YAAM,OAAO,CAAC,IAAI;AAClB,YAAM,OAAO,OAAO,CAAC,IAAI,CAAC,YAAY,KAAK,WAAW;AACtD,YAAM,OAAO,CAAC,IAAI,CAAC,YAAY,KAAK,OAAO,CAAC,IAAI,CAAC,aAAa,EACxD;AACN,YAAM,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;AACvD,SAAK;AACL,KAAG;AACH;AAEC;AACE;AACE;AACE;AAEJ;AAAQ,IAAT,gBAAgB,CAAC,IAAY,EAAE,SAAmB;AAAI;AACjB,QACnC,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;AAC9B,QAAI,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC,SAAS,CAAC,CAAC,GAAQ;AACjE;AACM,YAAA,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;AACnC;AACM,YAAA,IAAI,IAAI,CAAC,WAAW,IAAI,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,CAAC,iBAAiB,EAAE;AAChF,gBAAQ,IAAI,CAAC,cAAc,EAAE,CAAC;AAC9B,aAAO;AACP;AACM,YAAA,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;AACjC,SAAK,CAAC,CAAC;AACP,KAAG;AACH,IACU,cAAc;AACxB;AACI,QAAA,IAAI,CAAC,0BAA0B,EAAE,CAAC;AACtC,QAAI,uBAAuB,CAAC,QAAQ,CAAC;AACrC;AACM,YAAA,IAAI,CAAC,KAAK,CAAC,gBAAgB,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,SAAS,EAAE,CAAC;AACnE;AACM;AACM,YAAN,IAAI,CAAC,eAAe,GAAG,IAAI,gBAAgB,CAAC;AAClD,gBAAQ,IAAI,IAAI,CAAC,cAAc,CAAC,iBAAiB,IAAI,IAAI,CAAC,cAAc,CAAC,iBAAiB,CAAC,OAAO,CAAC,WAAW,EAAE,KAAK,OAAO,EAAE;AAC9H,oBAAU,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,GAAG,CAAC,mBAAmB,CAAC,CAAC;AACjE,iBAAS;AACT,gBAAQ,IAAI,CAAC,0BAA0B,EAAE,CAAC;AAC1C,aAAO,CAAC,CAAC;AACT,YAAM,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,IAAI,CAAC,cAAc,EAAE,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC,CAAC;AAC7E,SAAK,CAAC,CAAC;AACP,KAAG;AACH,IACU,0BAA0B;AACpC,QAAI,IAAI,IAAI,CAAC,eAAe,EAAE;AAC9B,YAAM,IAAI,CAAC,eAAe,CAAC,UAAU,EAAE,CAAC;AACxC,YAAM,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;AAClC,SAAK;AACL,KAAG;AACH,IACU,cAAc,CAAC,OAAe;AACxC,QAAI,uBAAuB,CAAC,QAAQ,CAAC,MAC/B,IAAI,CAAC,cAAc,CAAC,WAAW,GAAG,OAAO,CAC1C,CAAC;AACN,KAAG;AACH,IACU,YAAY,CAAC,OAAe;AACtC,QAAI,uBAAuB,CAAC,QAAQ,CAAC,MAC/B,IAAI,CAAC,cAAc,CAAC,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,eAAe,CAAC,IAAI,EAAE,OAAO,CAAC,IAAI,EAAE,CAC9F,CAAC;AACN,KAAG;AACH;qCAtGC,SAAS,SAAC,kBACT,IAAI,EAAE,sBACJ,cAAc,EAAE,MAAM,kBACvB,kBACD,QAAQ,EAAE,aAAa,cACxB;;;0LACI;AAAC;AAAmC,YAdvC,UAAU;AACV,YAIO,WAAW;AAAI,YAFf,YAAY;AAAI,4CAmCV,QAAQ,YAAI,MAAM,SAAC,iBAAiB;AAAQ;AAAG;AAC9D,mBAhBG,KAAK,SAAC,WAAW;AAAO,wBAIxB,KAAK;AAAK,0BAGV,KAAK;AAAK,0BAGV,MAAM;AAAI;;;;;;;;;;;;;;;;;;;;;;;oBAAE;AAAC;AAAC,MCnCJ,eAAe;AAC5B;2CALC,QAAQ,SAAC,kBACR,YAAY,EAAE,CAAC;CAAS,CAAC,kBACzB,OAAO,EAAE,CAAC,SAAS,CAAC,cACrB;;;;;;;;;wKACI;AAAC;ACPN;AACA;AACA;AACA;AACA;AAC8D","sourcesContent":["import { InjectionToken } from '@angular/core';\n\nexport interface HighlightLibrary {\n\n  /**\n   * Core highlighting function.\n   * @param name Accepts a language name, or an alias\n   * @param value A string with the code to highlight.\n   * @param ignore_illegals When present and evaluates to a true value, forces highlighting to finish\n   * even in case of detecting illegal syntax for the language instead of throwing an exception.\n   * @param continuation An optional mode stack representing unfinished parsing.\n   * When present, the function will restart parsing from this state instead of initializing a new one\n   */\n  highlight(name: string, value: string, ignore_illegals: boolean, continuation?: any): HighlightResult;\n\n  /**\n   * Highlighting with language detection.\n   * @param value Accepts a string with the code to highlight\n   * @param languageSubset An optional array of language names and aliases restricting detection to only those languages.\n   * The subset can also be set with configure, but the local parameter overrides the option if set.\n   */\n  highlightAuto(value: string, languageSubset: string[]): HighlightResult;\n\n  /**\n   * Post-processing of the highlighted markup.\n   * Currently consists of replacing indentation TAB characters and using <br> tags instead of new-line characters.\n   * Options are set globally with configure.\n   * @param value Accepts a string with the highlighted markup\n   */\n  fixMarkup(value: string): string;\n\n  /**\n   * Applies highlighting to a DOM node containing code.\n   * The function uses language detection by default but you can specify the language in the class attribute of the DOM node.\n   * See the class reference for all available language names and aliases.\n   * @param block The element to apply highlight on.\n   */\n  highlightBlock(block: HTMLElement): void;\n\n  /**\n   * Configures global options:\n   * @param config HighlightJs configuration argument\n   */\n  configure(config: HighlightConfig): void;\n\n  /**\n   * Applies highlighting to all <pre><code>..</code></pre> blocks on a page.\n   */\n  initHighlighting(): void;\n\n  /**\n   * Adds new language to the library under the specified name. Used mostly internally.\n   * @param name A string with the name of the language being registered\n   * @param language A function that returns an object which represents the language definition.\n   * The function is passed the hljs object to be able to use common regular expressions defined within it.\n   */\n  registerLanguage(name: string, language: () => any): void;\n\n  /**\n   * @return The languages names list.\n   */\n  listLanguages(): string[];\n\n  /**\n   * Looks up a language by name or alias.\n   * @param name Language name\n   * @return The language object if found, undefined otherwise.\n   */\n  getLanguage(name: string): any;\n\n  /**\n   * Add line numbers to code element\n   * @param el Code element\n   */\n  lineNumbersBlock(el: Element): void;\n}\n\nexport interface HighlightConfig {\n  /** tabReplace: a string used to replace TAB characters in indentation. */\n  tabReplace?: string;\n  /** useBR: a flag to generate <br> tags instead of new-line characters in the output, useful when code is marked up using a non-<pre> container. */\n  useBR?: boolean;\n  /** classPrefix: a string prefix added before class names in the generated markup, used for backwards compatibility with stylesheets. */\n  classPrefix?: string;\n  /** languages: an array of language names and aliases restricting auto detection to only these languages. */\n  languages?: string[];\n}\n\nexport interface HighlightResult {\n  language?: string;\n  second_best?: any;\n  top?: any;\n  value?: string;\n  relevance?: number;\n}\n\nexport interface HighlightOptions {\n  config?: HighlightConfig;\n  languages?: { [name: string]: () => Promise<any> };\n  coreLibraryLoader?: () => Promise<any>;\n  fullLibraryLoader?: () => Promise<any>;\n  lineNumbersLoader?: () => Promise<any>;\n}\n\nexport const HIGHLIGHT_OPTIONS = new InjectionToken<HighlightOptions>('HIGHLIGHT_OPTIONS');\n","import { Injectable, Inject, PLATFORM_ID, Optional } from '@angular/core';\nimport { DOCUMENT, isPlatformBrowser } from '@angular/common';\nimport { BehaviorSubject, Observable, from, EMPTY, zip, throwError } from 'rxjs';\nimport { catchError, tap, map, switchMap, filter, take } from 'rxjs/operators';\nimport { HIGHLIGHT_OPTIONS, HighlightLibrary, HighlightOptions } from './highlight.model';\n\n// @dynamic\n@Injectable({\n  providedIn: 'root'\n})\nexport class HighlightLoader {\n  // Stream that emits when hljs library is loaded and ready to use\n  private readonly _ready = new BehaviorSubject<HighlightLibrary | null>(null);\n  readonly ready: Observable<HighlightLibrary> = this._ready.asObservable().pipe(\n    filter((hljs: HighlightLibrary | null) => !!hljs),\n    map((hljs: HighlightLibrary | null) => hljs as HighlightLibrary),\n    take(1)\n  );\n\n  constructor(@Inject(DOCUMENT) doc: any,\n              @Inject(PLATFORM_ID) platformId: object,\n              @Optional() @Inject(HIGHLIGHT_OPTIONS) private _options: HighlightOptions) {\n    // Check if hljs is already available\n    if (isPlatformBrowser(platformId) && doc.defaultView.hljs) {\n      this._ready.next(doc.defaultView.hljs);\n    } else {\n      // Load hljs library\n      this._loadLibrary().pipe(\n        switchMap((hljs: HighlightLibrary) => {\n          if (this._options && this._options.lineNumbersLoader) {\n            // Make hljs available on window object (required for the line numbers library)\n            doc.defaultView.hljs = hljs;\n            // Load line numbers library\n            return this.loadLineNumbers().pipe(tap(() => this._ready.next(hljs)));\n          } else {\n            this._ready.next(hljs);\n            return EMPTY;\n          }\n        }),\n        catchError((e: any) => {\n          console.error('[HLJS] ', e);\n          return EMPTY;\n        })\n      ).subscribe();\n    }\n  }\n\n  /**\n   * Lazy-Load highlight.js library\n   */\n  private _loadLibrary(): Observable<any> {\n    if (this._options) {\n      if (this._options.fullLibraryLoader && this._options.coreLibraryLoader) {\n        return throwError('The full library and the core library were imported, only one of them should be imported!');\n      }\n      if (this._options.fullLibraryLoader && this._options.languages) {\n        return throwError('The highlighting languages were imported they are not needed!');\n      }\n      if (this._options.coreLibraryLoader && !this._options.languages) {\n        return throwError('The highlighting languages were not imported!');\n      }\n      if (!this._options.coreLibraryLoader && this._options.languages) {\n        return throwError('The core library was not imported!');\n      }\n      if (this._options.fullLibraryLoader) {\n        return this.loadFullLibrary();\n      }\n      if (this._options.coreLibraryLoader && this._options.languages && Object.keys(this._options.languages).length) {\n        return this.loadCoreLibrary().pipe(switchMap((hljs: HighlightLibrary) => this._loadLanguages(hljs)));\n      }\n    }\n    return throwError('Highlight.js library was not imported!');\n  }\n\n  /**\n   * Lazy-load highlight.js languages\n   */\n  private _loadLanguages(hljs: HighlightLibrary): Observable<any> {\n    const languages = Object.entries(this._options.languages!).map(([langName, langLoader]) =>\n      importModule(langLoader()).pipe(\n        tap((langFunc: any) => hljs.registerLanguage(langName, langFunc))\n      )\n    );\n    return zip(...languages).pipe(map(() => hljs));\n  }\n\n\n  /**\n   * Import highlight.js core library\n   */\n  private loadCoreLibrary(): Observable<HighlightLibrary> {\n    return importModule(this._options.coreLibraryLoader!());\n  }\n\n  /**\n   * Import highlight.js library with all languages\n   */\n  private loadFullLibrary(): Observable<HighlightLibrary> {\n    return importModule(this._options.fullLibraryLoader!());\n  }\n\n\n  /**\n   * Import line numbers library\n   */\n  private loadLineNumbers(): Observable<any> {\n    return importModule(this._options.lineNumbersLoader!());\n  }\n}\n\n/**\n * Map loader response to module object\n */\nconst importModule = (moduleLoader: Promise<any>): Observable<any> => {\n  return from(moduleLoader).pipe(\n    filter((module: any) => !!module && !!module.default),\n    map((module: any) => module.default)\n  );\n};\n","import { Injectable, Inject, Optional } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { filter, map, tap } from 'rxjs/operators';\nimport { HighlightConfig, HighlightResult, HighlightLibrary, HighlightOptions, HIGHLIGHT_OPTIONS } from './highlight.model';\nimport { HighlightLoader } from './highlight.loader';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class HighlightJS {\n\n  private _hljs: HighlightLibrary | null = null;\n\n  // A reference for hljs library\n  get hljs(): HighlightLibrary | null {\n    return this._hljs;\n  }\n\n  constructor(private _loader: HighlightLoader, @Optional() @Inject(HIGHLIGHT_OPTIONS) options: HighlightOptions) {\n    // Load highlight.js library on init\n    _loader.ready.pipe().subscribe((hljs: HighlightLibrary) => {\n      this._hljs = hljs;\n      if (options && options.config) {\n        // Set global config if present\n        hljs.configure(options.config);\n        if (hljs.listLanguages().length < 1) {\n          console.error('[HighlightJS]: No languages were registered!');\n        }\n      }\n    });\n  }\n\n  /**\n   * Core highlighting function.\n   * @param name Accepts a language name, or an alias\n   * @param value A string with the code to highlight.\n   * @param ignore_illegals When present and evaluates to a true value, forces highlighting to finish\n   * even in case of detecting illegal syntax for the language instead of throwing an exception.\n   * @param continuation An optional mode stack representing unfinished parsing.\n   * When present, the function will restart parsing from this state instead of initializing a new one\n   */\n  highlight(name: string, value: string, ignore_illegals: boolean, continuation?: any): Observable<HighlightResult> {\n    return this._loader.ready.pipe(\n      map((hljs: HighlightLibrary) => hljs.highlight(name, value, ignore_illegals, continuation))\n    );\n  }\n\n  /**\n   * Highlighting with language detection.\n   * @param value Accepts a string with the code to highlight\n   * @param languageSubset An optional array of language names and aliases restricting detection to only those languages.\n   * The subset can also be set with configure, but the local parameter overrides the option if set.\n   */\n  highlightAuto(value: string, languageSubset: string[]): Observable<HighlightResult> {\n    return this._loader.ready.pipe(\n      map((hljs: HighlightLibrary) => hljs.highlightAuto(value, languageSubset))\n    );\n  }\n\n  /**\n   * Post-processing of the highlighted markup.\n   * Currently consists of replacing indentation TAB characters and using <br> tags instead of new-line characters.\n   * Options are set globally with configure.\n   * @param value Accepts a string with the highlighted markup\n   */\n  fixMarkup(value: string): Observable<string> {\n    return this._loader.ready.pipe(\n      map((hljs: HighlightLibrary) => hljs.fixMarkup(value))\n    );\n  }\n\n  /**\n   * Applies highlighting to a DOM node containing code.\n   * The function uses language detection by default but you can specify the language in the class attribute of the DOM node.\n   * See the class reference for all available language names and aliases.\n   * @param block The element to apply highlight on.\n   */\n  highlightBlock(block: HTMLElement): Observable<void> {\n    return this._loader.ready.pipe(\n      map((hljs: HighlightLibrary) => hljs.highlightBlock(block))\n    );\n  }\n\n  /**\n   * Configures global options:\n   * @param config HighlightJs configuration argument\n   */\n  configure(config: HighlightConfig): Observable<void> {\n    return this._loader.ready.pipe(\n      map((hljs: HighlightLibrary) => hljs.configure(config))\n    );\n  }\n\n  /**\n   * Applies highlighting to all <pre><code>..</code></pre> blocks on a page.\n   */\n  initHighlighting(): Observable<void> {\n    return this._loader.ready.pipe(\n      map((hljs: HighlightLibrary) => hljs.initHighlighting())\n    );\n  }\n\n  /**\n   * Adds new language to the library under the specified name. Used mostly internally.\n   * @param name A string with the name of the language being registered\n   * @param language A function that returns an object which represents the language definition.\n   * The function is passed the hljs object to be able to use common regular expressions defined within it.\n   */\n  registerLanguage(name: string, language: () => any): Observable<HighlightLibrary> {\n    return this._loader.ready.pipe(\n      tap((hljs: HighlightLibrary) => hljs.registerLanguage(name, language))\n    );\n  }\n\n  /**\n   * @return The languages names list.\n   */\n  listLanguages(): Observable<string[]> {\n    return this._loader.ready.pipe(\n      map((hljs: HighlightLibrary) => hljs.listLanguages())\n    );\n  }\n\n  /**\n   * Looks up a language by name or alias.\n   * @param name Language name\n   * @return The language object if found, undefined otherwise.\n   */\n  getLanguage(name: string): Observable<any> {\n    return this._loader.ready.pipe(\n      map((hljs: HighlightLibrary) => hljs.getLanguage(name))\n    );\n  }\n\n  /**\n   * Display line numbers\n   * @param el Code element\n   */\n  lineNumbersBlock(el: HTMLElement): Observable<any> {\n    return this._loader.ready.pipe(\n      filter((hljs: HighlightLibrary) => !!hljs.lineNumbersBlock),\n      tap((hljs: HighlightLibrary) => hljs.lineNumbersBlock(el))\n    );\n  }\n}\n","import {\n  Directive,\n  Input,\n  Output,\n  Inject,\n  Optional,\n  OnChanges,\n  SimpleChanges,\n  EventEmitter,\n  ElementRef,\n  SecurityContext\n} from '@angular/core';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { animationFrameScheduler } from 'rxjs';\nimport { HighlightJS } from './highlight.service';\nimport { HIGHLIGHT_OPTIONS, HighlightOptions, HighlightResult } from './highlight.model';\n\n@Directive({\n  host: {\n    '[class.hljs]': 'true'\n  },\n  selector: '[highlight]'\n})\nexport class Highlight implements OnChanges {\n\n  // Highlighted Code\n  private readonly _nativeElement: HTMLElement;\n\n  // Temp observer to observe when line numbers has been added to code element\n  private _lineNumbersObs: any;\n\n  // Highlight code input\n  @Input('highlight') code!: string;\n\n  // An optional array of language names and aliases restricting detection to only those languages.\n  // The subset can also be set with configure, but the local parameter overrides the option if set.\n  @Input() languages!: string[];\n\n  // Show line numbers\n  @Input() lineNumbers!: boolean;\n\n  // Stream that emits when code string is highlighted\n  @Output() highlighted = new EventEmitter<HighlightResult>();\n\n  constructor(el: ElementRef,\n              private _hljs: HighlightJS,\n              private _sanitizer: DomSanitizer,\n              @Optional() @Inject(HIGHLIGHT_OPTIONS) private _options: HighlightOptions) {\n    this._nativeElement = el.nativeElement;\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (\n      this.code &&\n      changes.code &&\n      typeof changes.code.currentValue !== 'undefined' &&\n      changes.code.currentValue !== changes.code.previousValue\n    ) {\n      this.highlightElement(this.code, this.languages);\n    }\n  }\n\n  /**\n   * Highlighting with language detection and fix markup.\n   * @param code Accepts a string with the code to highlight\n   * @param languages An optional array of language names and aliases restricting detection to only those languages.\n   * The subset can also be set with configure, but the local parameter overrides the option if set.\n   */\n  highlightElement(code: string, languages: string[]): void {\n    // Set code text before highlighting\n    this.setTextContent(code);\n    this._hljs.highlightAuto(code, languages).subscribe((res: any) => {\n      // Set highlighted code\n      this.setInnerHTML(res.value);\n      // Check if user want to show line numbers\n      if (this.lineNumbers && this._options && this._options.lineNumbersLoader) {\n        this.addLineNumbers();\n      }\n      // Forward highlight response to the highlighted output\n      this.highlighted.emit(res);\n    });\n  }\n\n  private addLineNumbers() {\n    // Clean up line numbers observer\n    this.destroyLineNumbersObserver();\n    animationFrameScheduler.schedule(() => {\n      // Add line numbers\n      this._hljs.lineNumbersBlock(this._nativeElement).subscribe();\n      // If lines count is 1, the line numbers library will not add numbers\n      // Observe changes to add 'hljs-line-numbers' class only when line numbers is added to the code element\n      this._lineNumbersObs = new MutationObserver(() => {\n        if (this._nativeElement.firstElementChild && this._nativeElement.firstElementChild.tagName.toUpperCase() === 'TABLE') {\n          this._nativeElement.classList.add('hljs-line-numbers');\n        }\n        this.destroyLineNumbersObserver();\n      });\n      this._lineNumbersObs.observe(this._nativeElement, { childList: true });\n    });\n  }\n\n  private destroyLineNumbersObserver() {\n    if (this._lineNumbersObs) {\n      this._lineNumbersObs.disconnect();\n      this._lineNumbersObs = null;\n    }\n  }\n\n  private setTextContent(content: string) {\n    animationFrameScheduler.schedule(() =>\n      this._nativeElement.textContent = content\n    );\n  }\n\n  private setInnerHTML(content: string) {\n    animationFrameScheduler.schedule(() =>\n      this._nativeElement.innerHTML = this._sanitizer.sanitize(SecurityContext.HTML, content) || ''\n    );\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { Highlight } from './highlight';\n\n@NgModule({\n  declarations: [Highlight],\n  exports: [Highlight]\n})\nexport class HighlightModule {\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"]}