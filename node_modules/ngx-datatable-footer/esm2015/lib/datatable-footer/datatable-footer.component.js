/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Component, Input, Output, EventEmitter, ViewChild, TemplateRef } from '@angular/core';
import { FooterConfigurationService } from '../services/configuration.service';
export class DatatableFooterComponent {
    /**
     * @param {?} config
     */
    constructor(config) {
        this.config = config;
        this.pagerLeftArrowIcon = 'fa fa-angle-left';
        this.pagerRightArrowIcon = 'fa fa-angle-right';
        this.pagerPreviousIcon = 'fa fa-step-backward';
        this.pagerNextIcon = 'fa fa-step-forward';
        this.pageSizes = [10, 20, 30, 40, 50];
        this.totalNumber = true;
        this.linage = true;
        this.displayBothEnds = true;
        this.pageNumber = true;
        this.pageJumpTime = 1000;
        this.pageChange = new EventEmitter();
        this.maxPage = new EventEmitter();
    }
    /**
     * @param {?} val
     * @return {?}
     */
    set template(val) {
        this._template = val;
        this.update();
    }
    /**
     * @return {?}
     */
    get template() {
        return this._template;
    }
    /**
     * @param {?} val
     * @return {?}
     */
    set datatable(val) {
        this._datatable = val;
        this.update();
    }
    /**
     * @return {?}
     */
    get datatable() {
        return this._datatable;
    }
    /**
     * @return {?}
     */
    ngOnInit() { }
    /**
     * @return {?}
     */
    update() {
        if (this._datatable &&
            this._template &&
            (!this._datatable.footer || !this._datatable.footer.template)) {
            if (this._datatable.footer) {
                this._datatable.footer.template = this._template;
            }
            else {
                this._datatable.footer = {
                    footerHeight: this._datatable.footerHeight,
                    totalMessage: this._datatable.messages.totalMessage,
                    selectedMessage: this._datatable.messages.selectedMessage,
                    pagerLeftArrowIcon: '',
                    pagerRightArrowIcon: '',
                    pagerPreviousIcon: '',
                    pagerNextIcon: '',
                    template: this._template
                };
            }
        }
    }
    /**
     * @param {?} event
     * @return {?}
     */
    onFooterPage(event) {
        if (typeof event.page === 'number') {
            this.datatable.onFooterPage(event);
        }
    }
    /**
     * @param {?} event
     * @return {?}
     */
    emitPage(event) {
        if (typeof event.page === 'number') {
            this.pageChange.emit(event);
        }
    }
    /**
     * @param {?} page
     * @return {?}
     */
    emitMaxPage(page) {
        this.maxPage.emit(page);
    }
}
DatatableFooterComponent.decorators = [
    { type: Component, args: [{
                selector: 'ngx-datatable-footer',
                template: ` <ng-template
    ngx-datatable-footer-template
    let-rowCount="rowCount"
    let-pageSize="pageSize"
    let-selectedCount="selectedCount"
    let-curPage="curPage"
    let-offset="offset"
  >
    <div
      class="page-count"
      *ngIf="rowCount > 0 && totalNumber"
      [innerHTML]="
        config.labels.current +
        ((offset || 0) * pageSize + 1) +
        ' - ' +
        ((offset + 1) * pageSize > rowCount
          ? rowCount
          : (offset + 1 || 1) * pageSize) +
        ' / ' +
        rowCount +
        config.labels.line
      "
    ></div>
    <app-datatable-pager
      *ngIf="rowCount > 0"
      [linage]="linage"
      [displayBothEnds]="displayBothEnds"
      [pageNumber]="pageNumber"
      [pageSizes]="pageSizes"
      [pagerPreviousIcon]="pagerPreviousIcon"
      [pagerNextIcon]="pagerNextIcon"
      [pagerLeftArrowIcon]="pagerLeftArrowIcon"
      [pagerRightArrowIcon]="pagerRightArrowIcon"
      [page]="curPage"
      [size]="pageSize"
      [pageJumpTime]="pageJumpTime"
      [datatable]="datatable"
      [count]="rowCount"
      [labels]="config.labels"
      (change)="onFooterPage($event); emitPage($event)"
      (pageChange)="emitPage($event)"
      (maxPage)="emitMaxPage($event)"
      class="datatable-pager"
    >
    </app-datatable-pager>
  </ng-template>`
            }] }
];
/** @nocollapse */
DatatableFooterComponent.ctorParameters = () => [
    { type: FooterConfigurationService }
];
DatatableFooterComponent.propDecorators = {
    template: [{ type: ViewChild, args: [TemplateRef,] }],
    datatable: [{ type: Input }],
    pagerLeftArrowIcon: [{ type: Input }],
    pagerRightArrowIcon: [{ type: Input }],
    pagerPreviousIcon: [{ type: Input }],
    pagerNextIcon: [{ type: Input }],
    pageSizes: [{ type: Input }],
    totalNumber: [{ type: Input }],
    linage: [{ type: Input }],
    displayBothEnds: [{ type: Input }],
    pageNumber: [{ type: Input }],
    page: [{ type: Input }],
    pageJumpTime: [{ type: Input }],
    pageChange: [{ type: Output }],
    maxPage: [{ type: Output }]
};
if (false) {
    /** @type {?} */
    DatatableFooterComponent.prototype.pagerLeftArrowIcon;
    /** @type {?} */
    DatatableFooterComponent.prototype.pagerRightArrowIcon;
    /** @type {?} */
    DatatableFooterComponent.prototype.pagerPreviousIcon;
    /** @type {?} */
    DatatableFooterComponent.prototype.pagerNextIcon;
    /** @type {?} */
    DatatableFooterComponent.prototype.pageSizes;
    /** @type {?} */
    DatatableFooterComponent.prototype.totalNumber;
    /** @type {?} */
    DatatableFooterComponent.prototype.linage;
    /** @type {?} */
    DatatableFooterComponent.prototype.displayBothEnds;
    /** @type {?} */
    DatatableFooterComponent.prototype.pageNumber;
    /** @type {?} */
    DatatableFooterComponent.prototype.page;
    /** @type {?} */
    DatatableFooterComponent.prototype.pageJumpTime;
    /** @type {?} */
    DatatableFooterComponent.prototype.pageChange;
    /** @type {?} */
    DatatableFooterComponent.prototype.maxPage;
    /**
     * @type {?}
     * @private
     */
    DatatableFooterComponent.prototype._template;
    /**
     * @type {?}
     * @private
     */
    DatatableFooterComponent.prototype._datatable;
    /** @type {?} */
    DatatableFooterComponent.prototype.config;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGF0YXRhYmxlLWZvb3Rlci5jb21wb25lbnQuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9uZ3gtZGF0YXRhYmxlLWZvb3Rlci8iLCJzb3VyY2VzIjpbImxpYi9kYXRhdGFibGUtZm9vdGVyL2RhdGF0YWJsZS1mb290ZXIuY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFBQSxPQUFPLEVBQ0wsU0FBUyxFQUVULEtBQUssRUFDTCxNQUFNLEVBQ04sWUFBWSxFQUNaLFNBQVMsRUFDVCxXQUFXLEVBQ1osTUFBTSxlQUFlLENBQUM7QUFDdkIsT0FBTyxFQUFFLDBCQUEwQixFQUFFLE1BQU0sbUNBQW1DLENBQUM7QUFtRC9FLE1BQU0sT0FBTyx3QkFBd0I7Ozs7SUFxQ25DLFlBQW1CLE1BQWtDO1FBQWxDLFdBQU0sR0FBTixNQUFNLENBQTRCO1FBbEI1Qyx1QkFBa0IsR0FBWSxrQkFBa0IsQ0FBQztRQUNqRCx3QkFBbUIsR0FBWSxtQkFBbUIsQ0FBQztRQUNuRCxzQkFBaUIsR0FBWSxxQkFBcUIsQ0FBQztRQUNuRCxrQkFBYSxHQUFZLG9CQUFvQixDQUFDO1FBQzlDLGNBQVMsR0FBVyxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLENBQUMsQ0FBQztRQUN6QyxnQkFBVyxHQUFhLElBQUksQ0FBQztRQUM3QixXQUFNLEdBQWEsSUFBSSxDQUFDO1FBQ3hCLG9CQUFlLEdBQWEsSUFBSSxDQUFDO1FBQ2pDLGVBQVUsR0FBYSxJQUFJLENBQUM7UUFFNUIsaUJBQVksR0FBWSxJQUFJLENBQUM7UUFFNUIsZUFBVSxHQUFHLElBQUksWUFBWSxFQUFFLENBQUM7UUFDaEMsWUFBTyxHQUFHLElBQUksWUFBWSxFQUFFLENBQUM7SUFLaUIsQ0FBQzs7Ozs7SUFwQ3pELElBQ0ksUUFBUSxDQUFDLEdBQXFCO1FBQ2hDLElBQUksQ0FBQyxTQUFTLEdBQUcsR0FBRyxDQUFDO1FBQ3JCLElBQUksQ0FBQyxNQUFNLEVBQUUs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bXBvcnQge1xyXG4gIENvbXBvbmVudCxcclxuICBPbkluaXQsXHJcbiAgSW5wdXQsXHJcbiAgT3V0cHV0LFxyXG4gIEV2ZW50RW1pdHRlcixcclxuICBWaWV3Q2hpbGQsXHJcbiAgVGVtcGxhdGVSZWZcclxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgRm9vdGVyQ29uZmlndXJhdGlvblNlcnZpY2UgfSBmcm9tICcuLi9zZXJ2aWNlcy9jb25maWd1cmF0aW9uLnNlcnZpY2UnO1xyXG5cclxuQENvbXBvbmVudCh7XHJcbiAgc2VsZWN0b3I6ICduZ3gtZGF0YXRhYmxlLWZvb3RlcicsXHJcbiAgdGVtcGxhdGU6IGAgPG5nLXRlbXBsYXRlXHJcbiAgICBuZ3gtZGF0YXRhYmxlLWZvb3Rlci10ZW1wbGF0ZVxyXG4gICAgbGV0LXJvd0NvdW50PVwicm93Q291bnRcIlxyXG4gICAgbGV0LXBhZ2VTaXplPVwicGFnZVNpemVcIlxyXG4gICAgbGV0LXNlbGVjdGVkQ291bnQ9XCJzZWxlY3RlZENvdW50XCJcclxuICAgIGxldC1jdXJQYWdlPVwiY3VyUGFnZVwiXHJcbiAgICBsZXQtb2Zmc2V0PVwib2Zmc2V0XCJcclxuICA+XHJcbiAgICA8ZGl2XHJcbiAgICAgIGNsYXNzPVwicGFnZS1jb3VudFwiXHJcbiAgICAgICpuZ0lmPVwicm93Q291bnQgPiAwICYmIHRvdGFsTnVtYmVyXCJcclxuICAgICAgW2lubmVySFRNTF09XCJcclxuICAgICAgICBjb25maWcubGFiZWxzLmN1cnJlbnQgK1xyXG4gICAgICAgICgob2Zmc2V0IHx8IDApICogcGFnZVNpemUgKyAxKSArXHJcbiAgICAgICAgJyAtICcgK1xyXG4gICAgICAgICgob2Zmc2V0ICsgMSkgKiBwYWdlU2l6ZSA+IHJvd0NvdW50XHJcbiAgICAgICAgICA/IHJvd0NvdW50XHJcbiAgICAgICAgICA6IChvZmZzZXQgKyAxIHx8IDEpICogcGFnZVNpemUpICtcclxuICAgICAgICAnIC8gJyArXHJcbiAgICAgICAgcm93Q291bnQgK1xyXG4gICAgICAgIGNvbmZpZy5sYWJlbHMubGluZVxyXG4gICAgICBcIlxyXG4gICAgPjwvZGl2PlxyXG4gICAgPGFwcC1kYXRhdGFibGUtcGFnZXJcclxuICAgICAgKm5nSWY9XCJyb3dDb3VudCA+IDBcIlxyXG4gICAgICBbbGluYWdlXT1cImxpbmFnZVwiXHJcbiAgICAgIFtkaXNwbGF5Qm90aEVuZHNdPVwiZGlzcGxheUJvdGhFbmRzXCJcclxuICAgICAgW3BhZ2VOdW1iZXJdPVwicGFnZU51bWJlclwiXHJcbiAgICAgIFtwYWdlU2l6ZXNdPVwicGFnZVNpemVzXCJcclxuICAgICAgW3BhZ2VyUHJldmlvdXNJY29uXT1cInBhZ2VyUHJldmlvdXNJY29uXCJcclxuICAgICAgW3BhZ2VyTmV4dEljb25dPVwicGFnZXJOZXh0SWNvblwiXHJcbiAgICAgIFtwYWdlckxlZnRBcnJvd0ljb25dPVwicGFnZXJMZWZ0QXJyb3dJY29uXCJcclxuICAgICAgW3BhZ2VyUmlnaHRBcnJvd0ljb25dPVwicGFnZXJSaWdodEFycm93SWNvblwiXHJcbiAgICAgIFtwYWdlXT1cImN1clBhZ2VcIlxyXG4gICAgICBbc2l6ZV09XCJwYWdlU2l6ZVwiXHJcbiAgICAgIFtwYWdlSnVtcFRpbWVdPVwicGFnZUp1bXBUaW1lXCJcclxuICAgICAgW2RhdGF0YWJsZV09XCJkYXRhdGFibGVcIlxyXG4gICAgICBbY291bnRdPVwicm93Q291bnRcIlxyXG4gICAgICBbbGFiZWxzXT1cImNvbmZpZy5sYWJlbHNcIlxyXG4gICAgICAoY2hhbmdlKT1cIm9uRm9vdGVyUGFnZSgkZXZlbnQpOyBlbWl0UGFnZSgkZXZlbnQpXCJcclxuICAgICAgKHBhZ2VDaGFuZ2UpPVwiZW1pdFBhZ2UoJGV2ZW50KVwiXHJcbiAgICAgIChtYXhQYWdlKT1cImVtaXRNYXhQYWdlKCRldmVudClcIlxyXG4gICAgICBjbGFzcz1cImRhdGF0YWJsZS1wYWdlclwiXHJcbiAgICA+XHJcbiAgICA8L2FwcC1kYXRhdGFibGUtcGFnZXI+XHJcbiAgPC9uZy10ZW1wbGF0ZT5gXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBEYXRhdGFibGVGb290ZXJDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQge1xyXG4gIEBWaWV3Q2hpbGQoVGVtcGxhdGVSZWYpXHJcbiAgc2V0IHRlbXBsYXRlKHZhbDogVGVtcGxhdGVSZWY8YW55Pikge1xyXG4gICAgdGhpcy5fdGVtcGxhdGUgPSB2YWw7XHJcbiAgICB0aGlzLnVwZGF0ZSgpO1xyXG4gIH1cclxuICBnZXQgdGVtcGxhdGUoKTogVGVtcGxhdGVSZWY8YW55PiB7XHJcbiAgICByZXR1cm4gdGhpcy5fdGVtcGxhdGU7XHJcbiAgfVxyXG5cclxuICBASW5wdXQoKVxyXG4gIHNldCBkYXRhdGFibGUodmFsOiBhbnkpIHtcclxuICAgIHRoaXMuX2RhdGF0YWJsZSA9IHZhbDtcclxuICAgIHRoaXMudXBkYXRlKCk7XHJcbiAgfVxyXG4gIGdldCBkYXRhdGFibGUoKTogYW55IHtcclxuICAgIHJldHVybiB0aGlzLl9kYXRhdGFibGU7XHJcbiAgfVxyXG5cclxuICBASW5wdXQoKSBwYWdlckxlZnRBcnJvd0ljb24/OiBzdHJpbmcgPSAnZmEgZmEtYW5nbGUtbGVmdCc7XHJcbiAgQElucHV0KCkgcGFnZXJSaWdodEFycm93SWNvbj86IHN0cmluZyA9ICdmYSBmYS1hbmdsZS1yaWdodCc7XHJcbiAgQElucHV0KCkgcGFnZXJQcmV2aW91c0ljb24/OiBzdHJpbmcgPSAnZmEgZmEtc3RlcC1iYWNrd2FyZCc7XHJcbiAgQElucHV0KCkgcGFnZXJOZXh0SWNvbj86IHN0cmluZyA9ICdmYSBmYS1zdGVwLWZvcndhcmQnO1xyXG4gIEBJbnB1dCgpIHBhZ2VTaXplcz86IGFueVtdID0gWzEwLCAyMCwgMzAsIDQwLCA1MF07XHJcbiAgQElucHV0KCkgdG90YWxOdW1iZXI/OiBib29sZWFuID0gdHJ1ZTtcclxuICBASW5wdXQoKSBsaW5hZ2U/OiBib29sZWFuID0gdHJ1ZTtcclxuICBASW5wdXQoKSBkaXNwbGF5Qm90aEVuZHM/OiBib29sZWFuID0gdHJ1ZTtcclxuICBASW5wdXQoKSBwYWdlTnVtYmVyPzogYm9vbGVhbiA9IHRydWU7XHJcbiAgQElucHV0KCkgcGFnZT86IG51bWJlcjtcclxuICBASW5wdXQoKSBwYWdlSnVtcFRpbWU/OiBudW1iZXIgPSAxMDAwO1xyXG5cclxuICBAT3V0cHV0KCkgcGFnZUNoYW5nZSA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcclxuICBAT3V0cHV0KCkgbWF4UGFnZSA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcclxuXHJcbiAgcHJpdmF0ZSBfdGVtcGxhdGU6IGFueTtcclxuICBwcml2YXRlIF9kYXRhdGFibGU6IGFueTtcclxuXHJcbiAgY29uc3RydWN0b3IocHVibGljIGNvbmZpZzogRm9vdGVyQ29uZmlndXJhdGlvblNlcnZpY2UpIHt9XHJcblxyXG4gIG5nT25Jbml0KCkge31cclxuXHJcbiAgdXBkYXRlKCk6IHZvaWQge1xyXG4gICAgaWYgKFxyXG4gICAgICB0aGlzLl9kYXRhdGFibGUgJiZcclxuICAgICAgdGhpcy5fdGVtcGxhdGUgJiZcclxuICAgICAgKCF0aGlzLl9kYXRhdGFibGUuZm9vdGVyIHx8ICF0aGlzLl9kYXRhdGFibGUuZm9vdGVyLnRlbXBsYXRlKVxyXG4gICAgKSB7XHJcbiAgICAgIGlmICh0aGlzLl9kYXRhdGFibGUuZm9vdGVyKSB7XHJcbiAgICAgICAgdGhpcy5fZGF0YXRhYmxlLmZvb3Rlci50ZW1wbGF0ZSA9IHRoaXMuX3RlbXBsYXRlO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMuX2RhdGF0YWJsZS5mb290ZXIgPSB7XHJcbiAgICAgICAgICBmb290ZXJIZWlnaHQ6IHRoaXMuX2RhdGF0YWJsZS5mb290ZXJIZWlnaHQsXHJcbiAgICAgICAgICB0b3RhbE1lc3NhZ2U6IHRoaXMuX2RhdGF0YWJsZS5tZXNzYWdlcy50b3RhbE1lc3NhZ2UsXHJcbiAgICAgICAgICBzZWxlY3RlZE1lc3NhZ2U6IHRoaXMuX2RhdGF0YWJsZS5tZXNzYWdlcy5zZWxlY3RlZE1lc3NhZ2UsXHJcbiAgICAgICAgICBwYWdlckxlZnRBcnJvd0ljb246ICcnLFxyXG4gICAgICAgICAgcGFnZXJSaWdodEFycm93SWNvbjogJycsXHJcbiAgICAgICAgICBwYWdlclByZXZpb3VzSWNvbjogJycsXHJcbiAgICAgICAgICBwYWdlck5leHRJY29uOiAnJyxcclxuICAgICAgICAgIHRlbXBsYXRlOiB0aGlzLl90ZW1wbGF0ZVxyXG4gICAgICAgIH07XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIG9uRm9vdGVyUGFnZShldmVudDogYW55KSB7XHJcbiAgICBpZiAodHlwZW9mIGV2ZW50LnBhZ2UgPT09ICdudW1iZXInKSB7XHJcbiAgICAgIHRoaXMuZGF0YXRhYmxlLm9uRm9vdGVyUGFnZShldmVudCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBlbWl0UGFnZShldmVudDogYW55KSB7XHJcbiAgICBpZiAodHlwZW9mIGV2ZW50LnBhZ2UgPT09ICdudW1iZXInKSB7XHJcbiAgICAgIHRoaXMucGFnZUNoYW5nZS5lbWl0KGV2ZW50KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGVtaXRNYXhQYWdlKHBhZ2U6IG51bWJlcikge1xyXG4gICAgdGhpcy5tYXhQYWdlLmVtaXQocGFnZSk7XHJcbiAgfVxyXG59XHJcbiJdfQ==