{"version":3,"file":"utils.js","sources":["../../../../src/internal/motion/utils.ts"],"sourcesContent":null,"names":["async","runPropertyAnimations","props","hostEl","_animations","LogService","warn","tagName","toLocaleLowerCase","propertyAnimations","getPropertyAnimations","Promise","all","map","propNameAnimationTuple","propname","propertyAnimationsByValue","get","animatedPropertyValueAsString","toString","cdsMotionValue","cdsMotion","motionName","returnedMotion","getAnimationConfigForPropertyValue","getInlineOverride","motionForMyValue","clone","length","setAnimationConfigOptions","animations","getAnimationPromiseInstructions","then","resolveAnimationEndStatus","result","indexOf","catch","setAnimationStartStatus","getAttribute","AnimationStatus","active","setAttribute","cdsMotionChange","emit","start","ready","end","animationsAreTurnedOff","animationIsReversed","reverseAnimationConfig","zeroOutAnimationConfig","setAnimationEasing","setAnimationDuration","motionConfigs","filter","config","onlyIf","allPropertiesPass","resolve","animationPlayer","getAnimationTarget","target","animate","getAnimationKeyframesOrPropertyIndexedFrames","animation","options","listener","removeEventListener","addEventListener","targetSelector","queryChildFromLightOrShadowDom","animationConfig","Array","isArray","sizeDimensionKeyframes","nameOfAnimation","isSuffixedBy","CLARITY_MOTION_REVERSE_ANIMATION_SUFFIX","anim","direction","CLARITY_MOTION_REVERSE_ANIMATION_LABEL","reverseAnimation","animationName","propName","propValue","inlineOverride","JSON","parse","e","extractAnimationNameIfReversed","name","slice","getAnimationFromOverrideOrDecorator","decoratorValue","overrideValue","ClarityMotion","has","nameOfAnimationFromObject","cdsMotionOverride","setAnimationProperty","CLARITY_MOTION_FALLBACK_DURATION_IN_MS","val","getMillisecondsFromSeconds","getNumericValueFromCssSecondsStyleValue","CLARITY_MOTION_FALLBACK_EASING","duration","easing","propertyName","staticFallback","valueConverter","isCssPropertyName","myConfigOption","valFromProperty","getCssPropertyValue","newConfigOptions","animationKeyframes","kf","_a","_b","_c","_d","hasOwnProperty","isPrefixedBy","height","selector","removePrefix","measureTarget","getBoundingClientRect","width","filterAnimationsByUpdatedProperties","updatingProps","objectIsEmpty","returnObject","Object","getOwnPropertyNames","forEach","prop","flattenAndSortAnimations","hiddenAndNotAnimationTuple","isHiding","hiddenAnimations","otherAnimations","concat","getHidingAndNonHidingPropertyAnimations","animationTuple","CLARITY_MOTION_ENTER_LEAVE_PROPERTY","push","activeAnimations"],"mappings":"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"}